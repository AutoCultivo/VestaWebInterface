<!DOCTYPE html>  
<html>
  <head>
    <script src="../bower_components/jquery/jquery.js"></script>
    <script src="../dist/typeahead.bundle.js"></script>

    <style>
      .container {
        width: 800px;
        margin: 50px auto;
      ***REMOVED***

      .typeahead-wrapper {
        display: block;
        margin: 50px 0;
      ***REMOVED***

      .tt-dropdown-menu {
        background-color: #fff;
        border: 1px solid #000;
      ***REMOVED***

      .tt-suggestion.tt-cursor {
        background-color: #ccc;
      ***REMOVED***

      .triggered-events {
        float: right;
        width: 500px;
        height: 300px;
      ***REMOVED***
    </style>
  </head>

  <body>
    <div class="container">
      <textarea class="triggered-events"></textarea>
      <form action="/where" method="GET">
        <div class="typeahead-wrapper">
          <input class="states" name="states" type="text" placeholder="states" value="Michigan">
          <input type="submit">
        </div>
      </form>
      <div class="typeahead-wrapper">
        <input class="bad-tokens" type="text" placeholder="bad tokens">
      </div>
      <div class="typeahead-wrapper">
        <input class="regex-symbols" type="text" placeholder="regex symbols">
      </div>
      <div class="typeahead-wrapper">
        <input class="header-footer" type="text" placeholder="header footer">
      </div>
      <div class="typeahead-wrapper">
        <input class="ltr" type="text" placeholder="ltr">
      </div>
      <div class="typeahead-wrapper">
        <input class="rtl" type="text" placeholder="rtl">
      </div>
      <div class="typeahead-wrapper">
        <input class="mixed" type="text" placeholder="mixed">
      </div>
    </div>
    </div>

    <script>
      var states = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          'Alabama',
          'Alaska',
          'Arizona',
          'Arkansas',
          'California',
          'Colorado',
          'Connecticut',
          'Delaware',
          'Florida',
          'Georgia',
          'Hawaii',
          'Idaho',
          'Illinois',
          'Indiana',
          'Iowa',
          'Kansas',
          'Kentucky',
          'Louisiana',
          'Maine',
          'Maryland',
          'Massachusetts',
          'Michigan',
          'Minnesota',
          'Mississippi',
          'Missouri',
          'Montana',
          'Nebraska',
          'Nevada',
          'New Hampshire',
          'New Jersey',
          'New Mexico',
          'New York',
          'North Carolina',
          'North Dakota',
          'Ohio',
          'Oklahoma',
          'Oregon',
          'Pennsylvania',
          'Rhode Island',
          'South Carolina',
          'South Dakota',
          'Tennessee',
          'Texas',
          'Utah',
          'Vermont',
          'Virginia',
          'Washington',
          'West Virginia',
          'Wisconsin',
          'Wyoming'
        ]
      ***REMOVED***);

      states.initialize();

      $('.states').typeahead({
        highlight: true
      ***REMOVED***,
      {
        source: states
      ***REMOVED***);


      var badTokens = new Bloodhound({
        datumTokenizer: function(d) { return d.tokens; ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          {
            value1: 'all bad',
            jake: '111',
            tokens: ['  ', ' ', null, undefined, false, 'all', 'bad']
          ***REMOVED***,
          {
            value1: 'whitespace',
            jake: '112',
            tokens: ['  ', ' ', '\t', '\n', 'whitespace']
          ***REMOVED***,
          {
            value1: 'undefined',
            jake: '113',
            tokens: [undefined, 'undefined']
          ***REMOVED***,
          {
            value1: 'null',
            jake: '114',
            tokens: [null, 'null']
          ***REMOVED***,
          {
            value1: 'false',
            jake: '115',
            tokens: [false, 'false']
          ***REMOVED***
        ]
      ***REMOVED***);

      badTokens.initialize();

      $('.bad-tokens').typeahead(null, {
        displayKey: 'value1',
        source: badTokens
      ***REMOVED***);

      var regexSymbols = new Bloodhound({
        datumTokenizer: function(d) { 
          return Bloodhound.tokenizers.whitespace(d.val); 
        ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          { val: '*.js' ***REMOVED***,
          { val: '[Tt]ypeahead.js' ***REMOVED***,
          { val: '^typeahead.js$' ***REMOVED***,
          { val: 'typeahead.js(0.8.2)' ***REMOVED***,
          { val: 'typeahead.js(@\\d.\\d.\\d)' ***REMOVED***,
          { val: 'typeahead.js@0.8.2' ***REMOVED***
        ]
      ***REMOVED***);

      regexSymbols.initialize();

      $('.regex-symbols').typeahead(null, {
        displayKey: 'val',
        source: regexSymbols
      ***REMOVED***);

      var abc = new Bloodhound({
        datumTokenizer: function(d) { 
          return Bloodhound.tokenizers.whitespace(d.val); 
        ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          { val: 'a' ***REMOVED***, 
          { val: 'ab' ***REMOVED***, 
          { val: 'abc' ***REMOVED***, 
          { val: 'abcd' ***REMOVED***, 
          { val: 'abcde' ***REMOVED***
        ]
      ***REMOVED***);

      abc.initialize();

      $('.header-footer').typeahead(null, {
        displayKey: 'val',
        source: abc,
        templates: {
          header: '<h3>Header</h3>',
          footer: '<h3>Footer</h3>'
        ***REMOVED***
      ***REMOVED***,
      {
        displayKey: 'val',
        source: abc,
        templates: {
          header: '<h3>start</h3>',
          footer: '<h3>end</h3>',
          empty: '<h3>empty</h3>'
        ***REMOVED***
      ***REMOVED***);

      var ltr = new Bloodhound({
        datumTokenizer: function(d) { 
          return Bloodhound.tokenizers.whitespace(d.val); 
        ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          { val: "one" ***REMOVED***,
          { val: "two three" ***REMOVED***,
          { val: "four" ***REMOVED***,
          { val: "five six" ***REMOVED***,
          { val: "seven" ***REMOVED***
        ]
      ***REMOVED***);

      ltr.initialize();

      $('.ltr').typeahead({
        highlight: true
      ***REMOVED***,
      {
        displayKey: 'val',
        source: ltr
      ***REMOVED***);

      var rtl = new Bloodhound({
        datumTokenizer: function(d) { 
          return Bloodhound.tokenizers.whitespace(d.val); 
        ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          { val: "שלום" ***REMOVED***,
          { val: "ערב טוב" ***REMOVED***,
          { val: "מה שלומך" ***REMOVED***,
          { val: "רב תודות" ***REMOVED***,
          { val: "אין דבר" ***REMOVED***
        ]
      ***REMOVED***);

      rtl.initialize();

      $('.rtl').typeahead({
        highlight: true
      ***REMOVED***,
      {
        displayKey: 'val',
        source: rtl
      ***REMOVED***);

      var mixed = new Bloodhound({
        datumTokenizer: function(d) { 
          return Bloodhound.tokenizers.whitespace(d.val); 
        ***REMOVED***,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        local: [
          { val: "שלום" ***REMOVED***,
          { val: "ערב טוב" ***REMOVED***,
          { val: "מה שלומך" ***REMOVED***,
          { val: "one" ***REMOVED***,
          { val: "two three" ***REMOVED***
        ]
      ***REMOVED***);

      mixed.initialize();

      $('.mixed').typeahead({
        highlight: true
      ***REMOVED***,
      {
        displayKey: 'val',
        source: mixed
      ***REMOVED***);


      $('input').on([
        'typeahead:active',
        'typeahead:idle',
        'typeahead:open',
        'typeahead:close',
        'typeahead:change',
        'typeahead:render',
        'typeahead:select',
        'typeahead:autocomplete',
        'typeahead:cursorchange',
      ].join(' '), logTypeaheadEvent);

      $('form').on('submit', logSubmitEvent);
      
      function logSubmitEvent($e) {
        var text; 

        $e && $e.preventDefault(); 

        text = JSON.stringify($(this).serializeArray()); 
        writeToTextarea('submit', text);
      ***REMOVED***

      function logTypeaheadEvent($e) {
        var args, type, text;

        args = [].slice.call(arguments, 1);
        type = $e.type;
        text = window.JSON ? JSON.stringify(args) : '';

        writeToTextarea(type, text);
      ***REMOVED***

      function writeToTextarea(/* lines */) {
        var $textarea, val, text;

        $textarea = $('.triggered-events');
        val = $textarea.val();
        text = [].join.call(arguments, '\n');

        $textarea.val([val, text, '\n'].join('\n'));
        $textarea[0].scrollTop = $textarea[0].scrollHeight;
      ***REMOVED***
    </script>
  </body>
</html>
